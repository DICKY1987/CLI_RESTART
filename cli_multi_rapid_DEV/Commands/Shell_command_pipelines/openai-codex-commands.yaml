# openai-codex-commands.yaml
meta:
  title: "OpenAI Codex â€” CLI Commands Cheat Sheet"
  version: "2025-09-30"
  audience: "Automation pipelines using Codex CLI (terminal agent)"
  notes:
    - "Codex runs locally in your terminal with sandbox/approvals and MCP support."
    - "See 'codex --help' for complete, current options."

conventions:
  placeholders:
    <prompt>: "Natural language instruction"
    <path>: "Path to file or folder"
    <url>: "Allowed URL when web is enabled"
  tips:
    - "Use non-interactive/CI flags where possible; capture exit codes and JSON logs."

commands:
  - group: "Install/Update"
    cmd: "npm install -g @openai/codex"
    purpose: "Install Codex CLI globally with npm."
    idempotent: true
  - group: "Install/Update"
    cmd: "brew install codex"
    purpose: "Install Codex via Homebrew (macOS/Linux)."
    idempotent: true

  - group: "Run"
    cmd: "codex"
    purpose: "Start interactive Codex session in current directory."
    idempotent: false
  - group: "Run (with prompt)"
    cmd: "codex "<prompt>""
    purpose: "Start Codex and immediately run with a starting instruction."
    examples:
      - "codex "explain this codebase""
    idempotent: false

  - group: "Help/Docs"
    cmd: "codex --help"
    purpose: "Show CLI help."
    idempotent: true

  - group: "Auth"
    cmd: "codex login"
    purpose: "Sign in with ChatGPT account (recommended)."
    idempotent: true
  - group: "Auth (API key)"
    cmd: "codex login --api-key"
    purpose: "Authenticate with API key (advanced setup)."
    idempotent: true

  - group: "Config"
    cmd: "codex config edit"
    purpose: "Open ~/.codex/config.toml for editing."
    idempotent: true
  - group: "Config"
    cmd: "codex config show"
    purpose: "Print effective configuration."
    idempotent: true

  - group: "CI/Headless"
    cmd: "codex --ci --non-interactive "<prompt>""
    purpose: "Run in non-interactive (CI) mode."
    idempotent: true

  - group: "MCP"
    cmd: "codex mcp list"
    purpose: "List configured MCP servers."
    idempotent: true

provenance:
  - "Install & run commands referenced from openai/codex README and docs."
