{
  "workstream_id": 23,
  "workstream_name": "VS Code Extension & GUI",
  "branch_name": "ws/23-vscode-extension-gui",
  "est_hours": "72h",
  "earliest_start_phase": "Phase 4 / Week 20",
  "blocked_by": ["Schema CI/CD Integration", "Observability Advanced"],
  "priority_note": "Medium priority - IDE integration enhances developer experience significantly.",

  "objectives": [
    "Complete VS Code extension with full orchestrator integration",
    "Implement real-time workflow visualization",
    "Enable workflow execution and monitoring from IDE",
    "Provide inline diagnostics and results"
  ],

  "code_changes_summary": "This workstream completes the VS Code extension with language server protocol integration for workflow editing, real-time execution visualization with WebSocket updates, workflow tree view for easy navigation, and inline diagnostics for validation errors. This transforms the IDE into a complete orchestrator interface.",

  "tasks": [
    {
      "id": "task-001",
      "description": "Complete VS Code extension core functionality",
      "gap_ids": ["gap_GUI_003"],
      "files_to_create_or_modify": [
        "vscode-extension/src/extension.ts",
        "vscode-extension/src/workflowProvider.ts",
        "vscode-extension/src/languageServer.ts",
        "vscode-extension/package.json"
      ],
      "acceptance_criteria": [
        "Extension connects to CLI orchestrator backend",
        "Workflow tree view shows all workflows",
        "Execute workflow command in VS Code",
        "Workflow validation with inline diagnostics",
        "Syntax highlighting for workflow YAML",
        "Auto-completion for workflow steps"
      ],
      "test_plan": [
        "Install extension in VS Code",
        "Open workspace with workflows",
        "Verify workflow tree populated",
        "Right-click workflow, select Execute",
        "Verify execution starts",
        "Check inline diagnostics for invalid workflow"
      ]
    },
    {
      "id": "task-002",
      "description": "Implement real-time workflow visualization",
      "gap_ids": ["gap_GUI_002"],
      "files_to_create_or_modify": [
        "vscode-extension/src/visualization/workflowViewer.ts",
        "vscode-extension/webview/workflow-viz.html",
        "src/cli_multi_rapid/api/websocket.py"
      ],
      "acceptance_criteria": [
        "WebSocket connection for live updates",
        "Real-time workflow execution graph",
        "Step progress visualization",
        "Parallel execution visualization",
        "Resource usage graphs",
        "Error highlighting in visualization"
      ],
      "test_plan": [
        "Execute workflow from VS Code",
        "Open workflow visualization panel",
        "Verify real-time updates as workflow executes",
        "Verify parallel steps shown correctly",
        "Verify completion/error states displayed"
      ]
    },
    {
      "id": "task-003",
      "description": "Add workflow debugging capabilities",
      "gap_ids": ["gap_GUI_003"],
      "files_to_create_or_modify": [
        "vscode-extension/src/debugger/workflowDebugger.ts",
        "vscode-extension/src/debugger/debugAdapter.ts"
      ],
      "acceptance_criteria": [
        "Set breakpoints in workflow steps",
        "Step through workflow execution",
        "Inspect step inputs/outputs",
        "View adapter state during execution",
        "Modify variables during debugging"
      ],
      "test_plan": [
        "Set breakpoint in workflow",
        "Start debug session",
        "Verify execution pauses at breakpoint",
        "Inspect variables",
        "Step to next step",
        "Verify debugging works end-to-end"
      ]
    }
  ],

  "git": {
    "repo_url": "https://github.com/DICKY1987/CLI_RESTART.git",
    "remote": "origin",
    "base_branch": "main",
    "auto_commit_and_push": true,
    "commands": [
      "git fetch origin",
      "git checkout -B ws/23-vscode-extension-gui origin/main",
      "apply code changes (programmatic)",
      "git add -A",
      "git commit -m \"feat(vscode): complete extension with workflow visualization and debugging\"",
      "git push -u origin ws/23-vscode-extension-gui"
    ],
    "commit_message_template": "feat(vscode): complete extension with workflow visualization and debugging\n\nComplete VS Code extension with workflow execution, real-time visualization,\ninline diagnostics, and workflow debugging capabilities.\n\nCloses: gap_GUI_003, gap_GUI_002\nWorkstream: WS-23"
  },

  "safety_and_rollback": {
    "idempotent_reentry": true,
    "preflight_checks": [
      "ensure clean working tree",
      "sync with origin/main",
      "verify WS-05 completed (schema CI/CD - TypeScript types needed)",
      "verify WS-16 completed (observability advanced - tracing data needed)",
      "verify Node.js and npm installed"
    ],
    "rollback_plan": [
      "git reset --hard origin/main",
      "git clean -fd",
      "if pushed, create revert PR"
    ]
  },

  "execution_notes": [
    "Single-developer constraint: Start only after WS-05 and WS-16 complete.",
    "Do not prompt for approval; execute automatically.",
    "VS Code extension is highest-value developer experience improvement.",
    "Requires TypeScript and frontend development skills."
  ]
}
